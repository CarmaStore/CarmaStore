<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>
    <div class="container">
        <div id="row"></div>
    </div>
</body>

</html>


<script>
    console.log('asd');
    fetch("http://localhost/carma/0")
        .then((res) => res.json())
        .then(function(data) {
            console.log(data);

            for (let d in data) {
                //console.log(data[d].name);
                var row = document.getElementById("row");

                var div = document.createElement('div');
                div.className = "col s12 m6 l3";
                row.appendChild(div);
                console.log("Creado div col");

                var a = document.createElement('a');
                a.setAttribute('href', 'detail.php?id=' + data[d].id);
                div.appendChild(a);
                console.log("Creado a-href");

                var divCard = document.createElement('div');
                divCard.className = 'card';
                divCard.setAttribute('id', 'img');
                divCard.appendChild(a);
                console.log("Creado div");

                var divImg = document.createElement('div');
                divCard.className = 'card-img';
                divCard.setAttribute('id', 'gra');
                divCard.appendChild(divImg);
                console.log("Creado divImg");
                
                var img = document.createElement('img');
                img.setAttribute('id', 'ased');
                img.setAttribute('src', 'portadas/' + data[d].photo);
                divImg.appendChild(img);

                var h3 = document.createElement('h3');
                h3.innerHTML = data[d].name;
                divImg.appendChild(h3);

                var divCard1 = document.createElement('div');
                divCard1.className = 'card-action';
                divImg.appendChild(divCard);

                var h5 = document.createElement('h5');
                h5.setAttribute('id', 'price');
                h5.innerHTML = data[d].price;
                divCard1.appendChild(h5);
            }
        });

</script>

<script>
    /*  var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var myArr = JSON.parse(this.responseText);
            for(let data in myArr){
                console.log(myArr[data].name);
                var div = document.createElement('div');
                document.body.appendChild(div);
                div.id = 'div_'+myArr[data].id;
                div.className = '';
                div.innerHTML += `<label>Nombre:`+myArr[data].name+`</label><br>`;
                div.innerHTML += `<label>Info:`+myArr[data].info+`</label><br>`;
                div.innerHTML += `<label>Salida:`+myArr[data].date+`</label><br>`;
                div.innerHTML += `<label>foto:`+myArr[data].photo+`</label><br>`;
                div.innerHTML += `============================================`;
                //document.getElementById("box").innerHTML +=`<span>Nombre:`+myArr[data].name+`</span>`;
                //document.getElementById("box").innerHTML += `<li>`+myArr[data].name+`</li>`;
                //document.getElementById("lista").innerHTML += `<li>`+myArr[data].info+`</li>`;
            }
        }
    };
    xmlhttp.open("GET", "http://localhost/carma/0", true);
    xmlhttp.send();
*/

    /*  var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var myArr = JSON.parse(this.responseText);
            for (let data in myArr) {
                console.log(myArr[data].name);
                var div = document.createElement('div');
                document.getElementById('row').appendChild(div);
                div.id = 'div_' + myArr[data].id;
                div.className = 'col s12 m6 l3';
                div.innerHTML += `<a href="detail.php?id=` + myArr[data].id + `">
                    <div class="card" id="img">
                        <div class="card-image" id="gr">
                            <img id="ased" src="`+myArr[data].photo+`">
                            <h3>`+myArr[data].name+`</h3>
                        </div>
                        <div class="card-action">
                            <h5 id="price">`+myArr[data].price+`</h5>
                        </div>
                    </div>
    </a><br>`;
            }
        }
    };
    xmlhttp.open("GET", "http://localhost/carma/0", true);
    xmlhttp.send();
*/

</script>
